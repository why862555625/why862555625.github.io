<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>5åˆ†é’Ÿæ­ä¸€ä¸ªhexoåšå®¢</title>
      <link href="/posts/b9dc5266.html"/>
      <url>/posts/b9dc5266.html</url>
      
        <content type="html"><![CDATA[<p>è¿™æ˜¯ä¸€ç¯‡åŸºç¡€æ•™ç¨‹ï¼Œç®€å•çš„æ­å»ºhexoåšå®¢</p><span id="more"></span><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><img src="https://sls-cloudfunction-ap-guangzhou-code-1300044145.file.myqcloud.com/upload/hexo.png" style="zoom:50%;" /><p><strong>hexo</strong>ä¹Ÿç®—æ˜¯è€ç‰Œåšå®¢æ¡†æ¶äº†ï¼Œä»¥å‰å¯¹äºhexoçš„äº†è§£ä¹Ÿä»…ä»…åœç•™åœ¨çŸ¥é“ä»–æ˜¯ä¸€ä¸ªèƒ½å¤Ÿå¿«é€Ÿå°†æœ¬åœ°çš„markdownæ–‡ä»¶ç”Ÿæˆé™æ€ç½‘ç«™çš„æ¡†æ¶ã€‚<br>æœ€æ—©çš„ä¸ªäººåšå®¢ç½‘ç«™è¿˜æ˜¯è‡ªå·±åŠ¨æ‰‹ï¼Œä»0-1çš„ä¸€ä¸ªspaï¼Œå¹¶åšäº†å¤§é‡seoï¼Œè®¾å¤‡é€‚é…ï¼Œæ€§èƒ½ä¼˜åŒ–ï¼Œé…å¥—å¼€å‘çš„æœåŠ¡ä¹ŸåŒ…æ‹¬åå°ç®¡ç†ç³»ç»Ÿï¼ŒnodeæœåŠ¡ä»¥åŠsqlæ•°æ®åº“ï¼Œå½“ç„¶ä¸ªäººè¿˜å…¼å¤‡äº§å“è®¾è®¡ï¼ŒUIè®¾è®¡ç­‰å·¥ä½œã€‚</p><p>å…¥å‘å°è¯•hexoæ˜¯ç”±äºçœ‹åˆ°hexoï¼š</p><ol><li>ä¸»é¢˜ä¸°å¯Œï¼Œä¸”å¤šç«¯é€‚é…è‰¯å¥½ã€‚</li><li>seoä¼˜åŒ–ï¼Œç½‘é¡µæ€§èƒ½ğŸ‘ğŸ»ã€‚</li><li>æ–¹ä¾¿ç®¡ç†ï¼Œè¿ç§»ã€‚</li></ol><h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><p>å‡†å¤‡å¥½åŸºæœ¬ç¯å¢ƒï¼š</p><ol><li>git</li><li>node</li></ol><p>ç›´æ¥å…¨å±€å®‰è£…hexo-cli</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g hexo-cli</span><br></pre></td></tr></table></figure><p>è¿è¡Œæ£€æŸ¥æ˜¯å¦å®‰è£…å®Œæˆ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo version</span><br></pre></td></tr></table></figure><h2 id="cmdå¿«é€Ÿè¾…åŠ©å·¥å…·"><a href="#cmdå¿«é€Ÿè¾…åŠ©å·¥å…·" class="headerlink" title="cmdå¿«é€Ÿè¾…åŠ©å·¥å…·"></a>cmdå¿«é€Ÿè¾…åŠ©å·¥å…·</h2><ul><li><div class="flink"> <div class="flink-list">          <div class="flink-list-item">            <a href="/posts/db0a31c8/" title="å¿«é€Ÿè¾…åŠ©å·¥å…·" target="_blank">              <div class="flink-item-icon">                <img class="no-lightbox" src="http://q2.qlogo.cn/headimg_dl?dst_uin=1400000222&spec=640" onerror='this.onerror=null;this.src="https://unpkg.com/plasx@1.0.3/img/bj.webp"' alt="å¿«é€Ÿè¾…åŠ©å·¥å…·" />              </div>              <div class="flink-item-name">å¿«é€Ÿè¾…åŠ©å·¥å…·</div>               <div class="flink-item-desc" title="cmdå¿«é€Ÿè¾…åŠ©å·¥å…·">cmdå¿«é€Ÿè¾…åŠ©å·¥å…·</div>            </a>          </div></div></div></li></ul><p>æœ‰æ•ˆçš„å¿«é€Ÿå¼€å¯æœåŠ¡å…³é—­æœåŠ¡ï¼Œé¿å…æ¯æ¬¡éƒ½è¾“å…¥å‘½ä»¤çš„ç¹ç</p><h2 id="åˆå§‹åŒ–é¡¹ç›®"><a href="#åˆå§‹åŒ–é¡¹ç›®" class="headerlink" title="åˆå§‹åŒ–é¡¹ç›®"></a>åˆå§‹åŒ–é¡¹ç›®</h2><p>ä½¿ç”¨hero-cliåˆå§‹åŒ–blogé¡¹ç›®ï¼Œæˆ‘å–åå«â€lunaâ€å§ğŸŒ›ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo init luna</span><br></pre></td></tr></table></figure><p>æ¥ç€å®‰è£…ä¾èµ–</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd luna</span><br><span class="line">npm install</span><br></pre></td></tr></table></figure><p>å®‰è£…å®Œæˆä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥è¿è¡Œçœ‹ä¸‹æ•ˆæœã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo s</span><br></pre></td></tr></table></figure><p>æ‰“å¼€<code>http://localhost:4000/</code>æŸ¥çœ‹æ•ˆæœ</p><p><img src="https://sls-cloudfunction-ap-guangzhou-code-1300044145.file.myqcloud.com/upload/image-20220703154230288.png" alt="image-20220703154230288"></p><p><strong>æ–‡ç« è¿ç§»</strong></p><p>æŠŠåŸå…ˆå†™è¿‡çš„markdownï¼Œcopyåˆ°source/_postsã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp -r /Users/allen/Documents/blog /User/allen/Desktop/luna/source/_posts</span><br></pre></td></tr></table></figure><blockquote><p>è¿™é‡Œæˆ‘æ²¡æ‰¾åˆ°å¦‚ä½•å¿«é€Ÿæ‰¹é‡é…ç½®front-matterçš„æ–¹å¼ï¼Œåªèƒ½æ‰‹åŠ¨ä¸€ä¸ªä¸€ä¸ªæ”¹äº†</p></blockquote><h2 id="é…ç½®-config-yml"><a href="#é…ç½®-config-yml" class="headerlink" title="é…ç½®_config.yml"></a>é…ç½®_config.yml</h2><p>Yamlè¯­è¨€çš„é…ç½®æ–‡ä»¶ï¼Œå¯¹ç½‘ç«™è¿›è¡Œè¯¦ç»†çš„è®¾ç½®ã€‚</p><p><a href="https://hexo.io/docs/configuration.html">https://hexo.io/docs/configuration.html</a></p><h2 id="å®‰è£…ä¸»é¢˜"><a href="#å®‰è£…ä¸»é¢˜" class="headerlink" title="å®‰è£…ä¸»é¢˜"></a>å®‰è£…ä¸»é¢˜</h2><p>é»˜è®¤çš„ä¸»é¢˜æœ‰ç‚¹ä¸‘ï¼Œå¯ä»¥åˆ°å®˜ç½‘æ‰¾ä¸‹å–œæ¬¢çš„ã€‚</p><p><a href="https://hexo.io/themes/">https://hexo.io/themes/</a></p><p>æˆ‘é€‰äº†Butterfly<br><a href="https://butterfly.js.org/">https://butterfly.js.org/</a></p><p>æŒ‰ç…§æç¤ºå®‰è£…é…ç½®å³å¯ã€‚</p><h2 id="å†™ä¸ªwebæœåŠ¡å™¨"><a href="#å†™ä¸ªwebæœåŠ¡å™¨" class="headerlink" title="å†™ä¸ªwebæœåŠ¡å™¨"></a>å†™ä¸ªwebæœåŠ¡å™¨</h2><p>ç›®å‰æˆ‘ä»¬å·²ç»å®Œæˆäº†hexoé¡¹ç›®çš„åˆå§‹åŒ–ï¼Œä½†hexoä»…æ˜¯ä¸€ä¸ªé™æ€é¡µé¢ç”Ÿæˆçš„æ¡†æ¶ï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦éƒ¨ç½²åˆ°æœºå™¨ä¸Šï¼Œé‚£ä¹ˆè¿˜éœ€è¦ä¸€ä¸ªæœåŠ¡å™¨ã€‚</p><p>expresså³å¯æ»¡è¶³æˆ‘æ‰€æœ‰éœ€æ±‚ã€‚</p><p>å®‰è£…expressï¼Œåœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹ï¼Œåˆ›å»ºä¸€ä¸ª<code>luna/www/index.js</code>ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">express</span>()</span><br><span class="line"><span class="keyword">const</span> port = <span class="number">80</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/** é™æ€èµ„æº */</span></span><br><span class="line">app.<span class="title function_">use</span>(express.<span class="title function_">static</span>(<span class="string">&#x27;./public&#x27;</span>))</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">listen</span>(port, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`app listening on port <span class="subst">$&#123;port&#125;</span>`</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>å®‰è£…pm2ï¼Œæ·»åŠ scriptã€‚</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;scripts&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line"><span class="attr">&quot;logs&quot;</span><span class="punctuation">:</span> <span class="string">&quot;pm2 logs&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;start&quot;</span><span class="punctuation">:</span> <span class="string">&quot;pm2 start ./www/index.js&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;stop&quot;</span><span class="punctuation">:</span> <span class="string">&quot;pm2 stop all&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>å…¶å®å¿«é€Ÿåœ¨æœºå™¨ä¸Šæ›´æ–°ä»£ç è¿˜æŒºéº»çƒ¦çš„ï¼Œå†å†™ä¸ªè„šæœ¬ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&quot;ğŸšš æ‹‰å–æœ€æ–°ä»£ç ...&quot;</span></span><br><span class="line">git pull</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;ğŸš— æ›´æ–°npmåŒ…...&quot;</span></span><br><span class="line">npm install</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;ğŸ“¦ï¸ æ‰“åŒ…å‰ç«¯ä»£ç ...&quot;</span></span><br><span class="line">npm run build</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;ğŸŒï¸ å¯åŠ¨wwwæœåŠ¡...&quot;</span></span><br><span class="line">npm run stop</span><br><span class="line">npm run start</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;ğŸ‰ğŸ‰ğŸ‰ éƒ¨ç½²æˆåŠŸ!!!&quot;</span></span><br></pre></td></tr></table></figure><p>æ”¾åœ¨<code>luna/script/deploy.sh</code>ï¼Œç„¶åå†åŠ ä¸ªscriptã€‚</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;scripts&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line"><span class="attr">&quot;logs&quot;</span><span class="punctuation">:</span> <span class="string">&quot;pm2 logs&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;start&quot;</span><span class="punctuation">:</span> <span class="string">&quot;pm2 start ./www/index.js&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;stop&quot;</span><span class="punctuation">:</span> <span class="string">&quot;pm2 stop all&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;deploy&quot;</span><span class="punctuation">:</span> <span class="string">&quot;sh ./script/deploy.sh&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>æµ‹è¯•ä¸€ä¸‹ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm run deploy</span><br></pre></td></tr></table></figure><p><img src="https://sls-cloudfunction-ap-guangzhou-code-1300044145.file.myqcloud.com/upload/image-20220721230920045.png" alt="image-20220721230920045"></p><p>çœ‹èµ·æ¥å¥½åƒæ²¡ä»€ä¹ˆé—®é¢˜ğŸ¤”</p><h2 id="æ­ä¸ªå›¾åºŠ"><a href="#æ­ä¸ªå›¾åºŠ" class="headerlink" title="æ­ä¸ªå›¾åºŠ"></a>æ­ä¸ªå›¾åºŠ</h2><p>åšå®¢é‡Œå›¾ç‰‡èµ„æºé‚£ä¹ˆå¤šï¼Œä½ çœ‹æˆ‘çš„1Mçš„å­¦ç”ŸæœåŠ¡å™¨æ€ä¹ˆæ‰›å¾—ä½å‘¢ï¼Ÿå›¾ç‰‡èµ„æºéƒ½ä¸ŠCDNå§ã€‚</p><p>æœ¬èº«æˆ‘ä¹Ÿä¹ æƒ¯æœ¬åœ°ç”¨Typoraå†™åšï¼Œé‚£ä¹ˆå°±æ¨èä¸€ä¸‹picGoåšå›¾åºŠç®¡ç†å§ï¼Œmacä½“éªŒæ»¡åˆ†ã€‚</p><p><img src="https://sls-cloudfunction-ap-guangzhou-code-1300044145.file.myqcloud.com/upload/image-20220721231448819.png" alt="image-20220721231448819"></p><p><a href="https://picgo.github.io/PicGo-Doc/">PicGoå®˜ç½‘</a></p><p>æ”¯æŒçš„å›¾åºŠè¿˜è›®å¤šçš„ï¼ˆæˆ‘ç”¨COSï¼‰ï¼Œå…ˆé…ç½®å¥½ä½ çš„å›¾åºŠã€‚<img src="https://sls-cloudfunction-ap-guangzhou-code-1300044145.file.myqcloud.com/upload/image-20220721231557705.png" alt="image-20220721231557705"></p><p>æ‰“å¼€Typoraåå¥½è®¾ç½®ï¼Œé…ç½®PicGOè‡ªåŠ¨ä¸Šä¼ ã€‚</p><p><img src="https://sls-cloudfunction-ap-guangzhou-code-1300044145.file.myqcloud.com/upload/image-20220721231756498.png" alt="image-20220721231756498"></p><p>è¯•è¯•åœ¨Typoraé‡Œç²˜è´´å›¾ç‰‡å§</p><h2 id="å®ç°è‡ªåŠ¨éƒ¨ç½²"><a href="#å®ç°è‡ªåŠ¨éƒ¨ç½²" class="headerlink" title="å®ç°è‡ªåŠ¨éƒ¨ç½²"></a>å®ç°è‡ªåŠ¨éƒ¨ç½²</h2><p>è‡ªåŠ¨éƒ¨ç½²ä½¿ç”¨æ–¹å¼æˆ‘å†™è¿›äº†ä»“åº“çš„README.mdäº†</p><p><a href="https://github.com/AHREAL/luna#%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2">è‡ªåŠ¨éƒ¨ç½²</a></p><p>100è¡Œå®ç°</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> dotenv = <span class="built_in">require</span>(<span class="string">&quot;dotenv&quot;</span>)</span><br><span class="line">dotenv.<span class="title function_">config</span>()</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> &#123; <span class="title class_">Buffer</span> &#125; = <span class="built_in">require</span>(<span class="string">&#x27;buffer&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> childrenProcess = <span class="built_in">require</span>(<span class="string">&#x27;child_process&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> bodyParser = <span class="built_in">require</span>(<span class="string">&#x27;body-parser&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> crypto = <span class="built_in">require</span>(<span class="string">&#x27;crypto&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">express</span>()</span><br><span class="line"><span class="keyword">const</span> port = <span class="number">80</span></span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">HUB_SECRET</span> = process.<span class="property">env</span>.<span class="property">HUB_SECRET</span>;</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">use</span>(bodyParser.<span class="title function_">json</span>())</span><br><span class="line"></span><br><span class="line"><span class="comment">/** æ‰§è¡Œå‘½ä»¤ */</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">exec</span> = (<span class="params">bash</span>) =&gt; &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`ğŸ”§ å¼€å§‹æ‰§è¡Œå‘½ä»¤ <span class="subst">$&#123;bash&#125;</span>`</span>)</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    childrenProcess.<span class="title function_">exec</span>(bash, <span class="function">(<span class="params">error, stdout, stderr</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (error) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">`ğŸ”§ å‘½ä»¤å‡ºé”™ <span class="subst">$&#123;bash&#125;</span> exec error: <span class="subst">$&#123;error&#125;</span>`</span>);</span><br><span class="line">        <span class="title function_">reject</span>()</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">      &#125;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`ğŸ”§ å‘½ä»¤å®Œæˆ <span class="subst">$&#123;bash&#125;</span> stdout: <span class="subst">$&#123;stdout&#125;</span> stderr: <span class="subst">$&#123;stderr&#125;</span>`</span>);</span><br><span class="line">      <span class="title function_">resolve</span>()</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/** æ ¡éªŒsig */</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">validateHubSig</span> = (<span class="params">req</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (!req.<span class="property">body</span>) <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    <span class="keyword">const</span> signature = <span class="title class_">Buffer</span>.<span class="title function_">from</span>(<span class="string">`sha1=<span class="subst">$&#123;crypto.createHmac(<span class="string">&#x27;sha1&#x27;</span>, HUB_SECRET).update(<span class="built_in">JSON</span>.stringify(req.body)).digest(<span class="string">&#x27;hex&#x27;</span>)&#125;</span>`</span>)</span><br><span class="line">    <span class="keyword">const</span> _signature = <span class="title class_">Buffer</span>.<span class="title function_">from</span>(req.<span class="property">headers</span>[<span class="string">&#x27;x-hub-signature&#x27;</span>])</span><br><span class="line">    <span class="keyword">if</span> (signature.<span class="property">length</span> !== _signature.<span class="property">length</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> crypto.<span class="title function_">timingSafeEqual</span>(signature, _signature)</span><br><span class="line">  &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&#x27;validateHubSigFail&#x27;</span>, error)</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/** é™æ€èµ„æº */</span></span><br><span class="line">app.<span class="title function_">use</span>(express.<span class="title function_">static</span>(<span class="string">&#x27;./public&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">/** webhook - è‡ªåŠ¨åˆ·æ–° */</span></span><br><span class="line">app.<span class="title function_">post</span>(<span class="string">&#x27;/refresh&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="title function_">validateHubSig</span>(req)) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;ğŸ‚ webhookè‡ªåŠ¨åˆ·æ–°è§¦å‘ï¼Œæ­£åœ¨æ‰§è¡Œ...&#x27;</span>)</span><br><span class="line">    <span class="title function_">exec</span>(<span class="string">&#x27;git pull&#x27;</span>)</span><br><span class="line">      .<span class="title function_">then</span>(exec.<span class="title function_">bind</span>(<span class="variable language_">this</span>, <span class="string">&#x27;npm install&#x27;</span>))</span><br><span class="line">      .<span class="title function_">then</span>(exec.<span class="title function_">bind</span>(<span class="variable language_">this</span>, <span class="string">&#x27;npm run build&#x27;</span>))</span><br><span class="line">      .<span class="title function_">then</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;ğŸ‰ è‡ªåŠ¨åˆ·æ–°å®Œæˆ!&#x27;</span>)</span><br><span class="line">      &#125;).<span class="title function_">catch</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;âŒ è‡ªåŠ¨åˆ·æ–°å¤±è´¥ï¼Œè¯·æŸ¥çœ‹æ—¥å¿—è¯¦æƒ…!&#x27;</span>)</span><br><span class="line">      &#125;)</span><br><span class="line">    res.<span class="title function_">status</span>(<span class="number">200</span>).<span class="title function_">send</span>(&#123;</span><br><span class="line">      <span class="attr">msg</span>:<span class="string">&#x27;webhook success&#x27;</span></span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  res.<span class="title function_">status</span>(<span class="number">400</span>).<span class="title function_">send</span>(&#123;</span><br><span class="line">    <span class="attr">msg</span>: <span class="string">&#x27;validate signature fail&#x27;</span></span><br><span class="line">  &#125;);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">listen</span>(port, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`app listening on port <span class="subst">$&#123;port&#125;</span>`</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>å‰©ä¸‹å°±æ˜¯ç›´æ¥pushï¼Œå†ä¹Ÿä¸ç”¨ä¸Šæœºå™¨äº†ï¼ˆå½“ç„¶æœ‰BUGè¿˜æ˜¯è¦å»çš„ ğŸ˜…ï¼‰</p>]]></content>
      
      
      <categories>
          
          <category> hexoåŸºç¡€ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ•™ç¨‹ </tag>
            
            <tag> Hexo </tag>
            
            <tag> åŸºç¡€æ•™ç¨‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>velaå¿«åº”ç”¨æ¡†æ¶</title>
      <link href="/posts/d9795d89.html"/>
      <url>/posts/d9795d89.html</url>
      
        <content type="html"><![CDATA[<p>Velaä¸Šå¿«åº”ç”¨æ¡†æ¶çš„ä¸€äº›å®ç°åŸç†å’Œç¼–ç¨‹å®è·µ</p><span id="more"></span><h1 id="å¿«åº”ç”¨æ¡†æ¶æ„æˆ"><a href="#å¿«åº”ç”¨æ¡†æ¶æ„æˆ" class="headerlink" title="å¿«åº”ç”¨æ¡†æ¶æ„æˆ"></a>å¿«åº”ç”¨æ¡†æ¶æ„æˆ</h1><p>ä¸€ä¸ªç®€å•çš„å›¾ç”¨æ¥æè¿°å¿«åº”ç”¨æ¡†æ¶çš„æ¨¡å—æ„æˆï¼Œä¸»è¦ç”±Nativeï¼ˆC++ï¼‰éƒ¨åˆ†å’ŒJSéƒ¨åˆ†ï¼ˆframework.jsï¼‰æ„æˆã€‚</p><p><img src="https://raw.githubusercontent.com/why862555625/images/main/images/48c4d276-9d71-439a-a720-7f268da27d85.svg" alt="48c4d276-9d71-439a-a720-7f268da27d85"></p><p>åœ¨æ¡†æ¶çš„C++ä»£ç ä¸­ï¼Œæœ€æ ¸å¿ƒçš„ä¸¤å¤§ç»„ä»¶å°±æ˜¯ quickjså’Œlibuvï¼Œåˆ†åˆ«æä¾›JSè¿è¡Œç¯å¢ƒå’Œå¼‚æ­¥æ¶ˆæ¯å¾ªç¯æœºåˆ¶ã€‚æ¡†æ¶è¿˜ç”¨åˆ°äº†ä¸€äº›å…¶ä»–çš„C/C++åº“å¦‚libcurlä½œä¸ºhttpå®¢æˆ·ç«¯ï¼Œrapidjsonæä¾›jsonè§£æèƒ½åŠ›ç­‰ã€‚</p><p>ä¸‹é¢ç»™å‡ºé¡¹ç›®ç›®å½•ç»“æ„ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">â”œâ”€â”€ bin                                     # ç”Ÿæˆç›®å½•</span><br><span class="line">â”‚   â”œâ”€â”€ app                                 # æµ‹è¯•åº”ç”¨</span><br><span class="line">â”‚   â”œâ”€â”€ apps.json                           # åº”ç”¨é…ç½®æ–‡ä»¶</span><br><span class="line">â”‚   â”œâ”€â”€ font                                # åº”ç”¨å­—ä½“èµ„æº</span><br><span class="line">â”‚   â”œâ”€â”€ quickapp</span><br><span class="line">â”‚   â””â”€â”€ vapp                                # é¡¹ç›®ç”Ÿæˆçš„å¯æ‰§è¡Œæ–‡ä»¶</span><br><span class="line">â”œâ”€â”€ build                                   # cmakeæ„å»ºç›®å½•</span><br><span class="line">â”œâ”€â”€ CMakeLists.txt</span><br><span class="line">â”œâ”€â”€ deps                                    # ä¾èµ–é¡¹ç›®å½•</span><br><span class="line">â”‚   â”œâ”€â”€ curl                                # å¤šåè®®æ–‡ä»¶ä¼ è¾“åº“</span><br><span class="line">â”‚   â”œâ”€â”€ ext                                 # æ‰©å±•ï¼Œä¸»è¦æ˜¯lvgléæ ‡å‡†æ‰©å±•</span><br><span class="line">â”‚   â”œâ”€â”€ FFmpeg                              # éŸ³è§†é¢‘ç¼–è§£ç åº“</span><br><span class="line">â”‚   â”œâ”€â”€ freetype2                           # å­—ä½“æ¸²æŸ“åº“</span><br><span class="line">â”‚   â”œâ”€â”€ libuv                               # è·¨å¹³å°äº‹ä»¶é©±åŠ¨çš„æ¶ˆæ¯å¾ªç¯åº“</span><br><span class="line">â”‚   â”œâ”€â”€ littlefs                            # lvglç›¸å…³</span><br><span class="line">â”‚   â”œâ”€â”€ lv_conf.h</span><br><span class="line">â”‚   â”œâ”€â”€ lv_drivers</span><br><span class="line">â”‚   â”œâ”€â”€ lv_drv_conf.h</span><br><span class="line">â”‚   â”œâ”€â”€ lv_ffmpeg_interface</span><br><span class="line">â”‚   â”œâ”€â”€ lv_fs_interface</span><br><span class="line">â”‚   â”œâ”€â”€ lvgl                                # lvgl åµŒå…¥å¼guiåº“</span><br><span class="line">â”‚   â”œâ”€â”€ lv_lib_freetype                     # lvglçš„freetypeåº“</span><br><span class="line">â”‚   â”œâ”€â”€ lv_lib_png                          # lvglçš„pngè§£ç åº“</span><br><span class="line">â”‚   â”œâ”€â”€ quickjs                             # åµŒå…¥å¼JSå¼•æ“</span><br><span class="line">â”‚   â”œâ”€â”€ rapidjson                           # Jsonåº“</span><br><span class="line">â”‚   â”œâ”€â”€ tools                               # å·¥å…·ç›®å½•ï¼Œç›®å‰å­˜æ”¾äº†Ffmpegç¼–è¯‘è„šæœ¬</span><br><span class="line">â”‚   â”œâ”€â”€ unqlite                             # no sqlæ•°æ®åº“</span><br><span class="line">â”‚   â”œâ”€â”€ uvws                                # åŸºäºlibuvå®ç°çš„websocketåº“</span><br><span class="line">â”‚   â”œâ”€â”€ wasm3                               # web assembelyæ”¯æŒåº“</span><br><span class="line">â”‚   â””â”€â”€ yoga                                # yogaæ’ç‰ˆå¼•æ“</span><br><span class="line">â”œâ”€â”€ Kconfig                                 # ä¾›velaä½¿ç”¨çš„kconfgé…ç½®</span><br><span class="line">â”œâ”€â”€ Make.defs</span><br><span class="line">â”œâ”€â”€ Makefile                                # vela makefile</span><br><span class="line">â”œâ”€â”€ README.md                               # æœ¬æ–‡ä»¶</span><br><span class="line">â”œâ”€â”€ src                                     # æºç </span><br><span class="line">â”‚   â”œâ”€â”€ aiotjs.h</span><br><span class="line">â”‚   â”œâ”€â”€ ajs_vm.cpp</span><br><span class="line">â”‚   â”œâ”€â”€ ....</span><br><span class="line">â”‚   â”œâ”€â”€ framework                           # æ¡†æ¶æºç </span><br><span class="line">â”‚   â”œâ”€â”€ gui                                 # GUIç›¸å…³ä»£ç ï¼ŒåŒ…å«lvglæ¸²æŸ“å™¨å®ç°</span><br><span class="line">â”‚   â”œâ”€â”€ jse                                 # JS Environment JSç¯å¢ƒç›¸å…³</span><br><span class="line">â”‚   â””â”€â”€ Kconfig</span><br><span class="line">â”œâ”€â”€ tests                                   # æµ‹è¯•</span><br><span class="line">â”‚   â”œâ”€â”€ gui</span><br><span class="line">â”‚   â”œâ”€â”€ helpers</span><br><span class="line">â”‚   â”œâ”€â”€ run.js</span><br><span class="line">â”‚   â”œâ”€â”€ ... </span><br><span class="line">â”‚   â”œâ”€â”€ test-feature-vibrator.js</span><br><span class="line">â”‚   â”œâ”€â”€ wasi</span><br><span class="line">â”‚   â””â”€â”€ wasm</span><br><span class="line">â””â”€â”€ toolchain                               # äº¤å‰ç¼–è¯‘ç›¸å…³</span><br><span class="line">    â””â”€â”€ cross-m32.cmake                     # linux 32ä½æ„å»º</span><br></pre></td></tr></table></figure><h1 id="æ¡†æ¶å¯åŠ¨æµç¨‹åˆ†æ"><a href="#æ¡†æ¶å¯åŠ¨æµç¨‹åˆ†æ" class="headerlink" title="æ¡†æ¶å¯åŠ¨æµç¨‹åˆ†æ"></a>æ¡†æ¶å¯åŠ¨æµç¨‹åˆ†æ</h1><p><img src="https://raw.githubusercontent.com/why862555625/images/main/images/6ca169bc-84af-4252-9758-54c853feefef.svg" alt="6ca169bc-84af-4252-9758-54c853feefef"></p><p>æ¡†æ¶çš„æ•´ä¸ªå¯åŠ¨å’Œæ‰§è¡Œæµç¨‹è¾ƒä¸ºå¤æ‚ï¼Œé‡Œé¢æ¶‰åŠåˆ°äº†JSå’ŒC++çš„äº’è°ƒç”¨ã€‚</p><p>å¯åŠ¨æµç¨‹ä»¥C++çš„å…¥å£å‡½æ•°ä¸ºå…¥å£ç‚¹ï¼Œä¼šåˆå§‹åŒ–quickjsï¼Œåˆ›å»ºappï¼Œå¯åŠ¨å­çº¿ç¨‹å¹¶åŠ è½½Native moduleå’Œå†…ç½®JSæ¡†æ¶ä»£ç ã€‚</p><p>ç„¶åæµç¨‹è½¬äº¤åˆ°JSï¼Œç”±JSé€šè¿‡è°ƒç”¨åˆå§‹åŒ–æ—¶æ³¨å†Œçš„Nativeå‡½æ•°æ¥å®Œæˆæ•´ä¸ªå¿«åº”ç”¨çš„åŠ è½½ã€‚</p><h1 id="VDOMæ¸²æŸ“æµç¨‹åˆ†æ"><a href="#VDOMæ¸²æŸ“æµç¨‹åˆ†æ" class="headerlink" title="VDOMæ¸²æŸ“æµç¨‹åˆ†æ"></a>VDOMæ¸²æŸ“æµç¨‹åˆ†æ</h1><p>VDOMçš„åˆ›å»ºå’Œæ¸²æŸ“å‡ºäºæ€§èƒ½è€ƒè™‘ï¼Œæ”¾åœ¨äº†C++å±‚å®ç°ï¼Œæ•´ä¸ªVDOMçš„åˆ›å»ºç”±Nativeé€šè¿‡æ‰§è¡Œtemplateä¸Šçš„æ¸²æŸ“å‡½æ•°æ¥åˆ›å»ºã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function">(<span class="params"><span class="variable language_">module</span></span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">module</span>.<span class="property">exports</span> = <span class="keyword">function</span> (<span class="params">vm</span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> _vm_ = vm || <span class="variable language_">this</span></span><br><span class="line">      <span class="keyword">return</span> aiot.<span class="title function_">__ce__</span>(<span class="string">&quot;div&quot;</span>, &#123;</span><br><span class="line">        <span class="string">&quot;classList&quot;</span>: [</span><br><span class="line">          <span class="string">&quot;page&quot;</span>,</span><br><span class="line">          <span class="string">&quot;home-page&quot;</span></span><br><span class="line">        ]</span><br><span class="line">      &#125;, [</span><br><span class="line">        aiot.<span class="title function_">__ci__</span>(&#123;</span><br><span class="line">          <span class="attr">shown</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123; <span class="keyword">return</span> _vm_.<span class="property">status</span> !== <span class="number">0</span> &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">          <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> aiot.<span class="title function_">__ce__</span>(<span class="string">&quot;text&quot;</span>, &#123;</span><br><span class="line">              <span class="string">&quot;classList&quot;</span>: [</span><br><span class="line">                <span class="string">&quot;text-time&quot;</span></span><br><span class="line">              ],</span><br><span class="line">              <span class="string">&quot;value&quot;</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123; <span class="keyword">return</span> _vm_.$t(<span class="string">&quot;a.b&quot;</span>) &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">          &#125;),</span><br><span class="line">        aiot.<span class="title function_">__ci__</span>(&#123;</span><br><span class="line">          <span class="attr">shown</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123; <span class="keyword">return</span> _vm_.<span class="property">status</span> === <span class="number">0</span> &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">          <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> aiot.<span class="title function_">__ce__</span>(<span class="string">&quot;div&quot;</span>, &#123;</span><br><span class="line">              <span class="string">&quot;classList&quot;</span>: [</span><br><span class="line">                <span class="string">&quot;body&quot;</span>,</span><br><span class="line">                <span class="string">&quot;launch-panel&quot;</span></span><br><span class="line">              ]</span><br><span class="line">            &#125;, [</span><br><span class="line">              aiot.<span class="title function_">__ce__</span>(<span class="string">&quot;image&quot;</span>, &#123;</span><br><span class="line">                <span class="string">&quot;src&quot;</span>: <span class="string">&quot;/Common/logo.png&quot;</span>,</span><br><span class="line">                <span class="string">&quot;classList&quot;</span>: [</span><br><span class="line">                  <span class="string">&quot;logo&quot;</span></span><br><span class="line">                ]</span><br><span class="line">              &#125;),</span><br><span class="line">              aiot.<span class="title function_">__ce__</span>(<span class="string">&quot;text&quot;</span>, &#123;</span><br><span class="line">                <span class="string">&quot;classList&quot;</span>: [</span><br><span class="line">                  <span class="string">&quot;app-name&quot;</span></span><br><span class="line">                ],</span><br><span class="line">                <span class="string">&quot;value&quot;</span>: <span class="string">&quot;èˆªæ—…çºµæ¨ª&quot;</span></span><br><span class="line">              &#125;)</span><br><span class="line">            ])</span><br><span class="line">          &#125;),</span><br><span class="line">        aiot.<span class="title function_">__ci__</span>(&#123;...&#125;),</span><br><span class="line">        aiot.<span class="title function_">__ci__</span>(&#123;...&#125;),</span><br><span class="line">        ....</span><br><span class="line">      ])</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/***/</span></span><br><span class="line">&#125;),</span><br></pre></td></tr></table></figure><p>Templateæœ¬èº«æ˜¯ä¸€ä¸ªåµŒå¥—ç»“æ„ï¼Œå®ƒè¢«ç¿»è¯‘æˆäº†å¯¹aiot.<strong>ce</strong>, aiot__cf__, aiot.__ci__ç­‰å‡½æ•°çš„åµŒå¥—è°ƒç”¨ï¼ŒåµŒå¥—è°ƒç”¨çš„è¿‡ç¨‹å°±æ˜¯åœ¨Nativeå±‚å®Œæˆæ•´ä¸ªdomæ ‘æ„å»ºçš„è¿‡ç¨‹ã€‚</p><p>æˆ‘ä»¬æ¥çœ‹__cf__å¯¹åº”çš„C++æºç ï¼Œå®ƒç”¨äºåˆ›å»ºä¸€ä¸ªé€»è¾‘å¾ªç¯èŠ‚ç‚¹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">DomEntity* <span class="title">dom_create_for_fragment</span><span class="params">(jse_context_ref ctx, <span class="type">jse_value_t</span> options, <span class="type">jse_value_t</span> func)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">AIOTJS_LOG_DEBUG</span>(<span class="string">&quot;dom_create_for_fragment ==================== &quot;</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">   ....</span><br><span class="line"></span><br><span class="line">    <span class="comment">//åˆ›å»ºDomForFragmentèŠ‚ç‚¹</span></span><br><span class="line">    DomForFragment *frag = <span class="keyword">new</span> <span class="built_in">DomForFragment</span>();</span><br><span class="line">    page-&gt;<span class="built_in">addDomEntity</span>(frag);</span><br><span class="line">    </span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä¿å­˜JSç«¯ä¼ å…¥çš„è¡¨è¾¾å¼å’Œrenderå‡½æ•°</span></span><br><span class="line">    <span class="type">jse_value_t</span> exp = <span class="built_in">jse_get_object_property</span>(ctx, options, <span class="string">&quot;exp&quot;</span>);</span><br><span class="line">    frag-&gt;<span class="built_in">setExpress</span>(<span class="built_in">jse_dup_value</span>(ctx, exp));</span><br><span class="line">    frag-&gt;<span class="built_in">setRenderFunction</span>(<span class="built_in">jse_dup_value</span>(ctx, func));</span><br><span class="line">    <span class="built_in">jse_free_value</span>(ctx, exp);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è®¾ç½®keyæˆ–è€…$idx</span></span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line">    <span class="comment">//åˆ›å»ºeffectå‡½æ•°</span></span><br><span class="line">    <span class="type">jse_value_t</span> eff = <span class="built_in">create_effect</span>(ctx, dom_update_for_fragment, <span class="number">0</span>);</span><br><span class="line">    <span class="built_in">AIOTJS_LOG_DEBUG</span>(<span class="string">&quot;AddEffect for %d&quot;</span>, frag-&gt;<span class="built_in">uid</span>());</span><br><span class="line">    <span class="comment">//è°ƒç”¨frameworkçš„effectWrapå‡½æ•°å°†effectå‡½æ•°ä¼ é€’ç»™JSå±‚ä¿å­˜</span></span><br><span class="line">    frag-&gt;<span class="built_in">addEffect</span>(ctx, <span class="built_in">dom_effect</span>(ctx, eff, frag-&gt;<span class="built_in">uid</span>(), <span class="number">0</span>));</span><br><span class="line">    <span class="built_in">jse_free_value</span>(ctx, eff);</span><br><span class="line">    ...</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// è¿”å›åˆ›å»ºå¥½çš„frag vdomèŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">return</span> frag;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>dom_update_for_fragmentæ˜¯C++ç«¯çš„èŠ‚ç‚¹æ›´æ–°å‡½æ•°ï¼Œå®ƒæœ€ç»ˆä¼šè§¦å‘èŠ‚ç‚¹çš„renderå‡½æ•°æ›´æ–°å­èŠ‚ç‚¹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">bool</span> <span class="title">DomForFragment::render</span><span class="params">(jse_context_ref ctx)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// é€’å½’æ„é€ </span></span><br><span class="line">    <span class="type">jse_value_t</span> exp_obj = <span class="built_in">jse_call</span>(ctx, exp_, JSE_UNDEFINED, <span class="number">0</span>, &#123;&#125;);</span><br><span class="line">    <span class="type">jse_value_t</span> expValue = JSE_UNDEFINED;</span><br><span class="line">    <span class="type">const</span> <span class="type">char</span>* str_tid = <span class="literal">nullptr</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è°ƒç”¨JSç«¯çš„æ±‚å€¼å‡½æ•°è·å–forå¾ªç¯å¯¹åº”çš„listå¯¹è±¡ expValue</span></span><br><span class="line">    expValue = <span class="built_in">get_from_js_expression</span>();</span><br><span class="line">    </span><br><span class="line">    ....</span><br><span class="line"></span><br><span class="line">    <span class="comment">//éå†æ•°ç»„</span></span><br><span class="line">    <span class="type">jse_size_t</span> len = <span class="built_in">jse_get_array_length</span>(ctx, expValue);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">jse_size_t</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">        <span class="comment">//ä¸ºæ¯ä¸ªelementåˆ†åˆ«è°ƒç”¨renderå‡½æ•°</span></span><br><span class="line">        <span class="type">jse_value_t</span> idx = <span class="built_in">jse_uint</span>(ctx, i);</span><br><span class="line">        <span class="type">jse_value_t</span> args[] = &#123;</span><br><span class="line">            idx,</span><br><span class="line">            item</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="type">jse_value_t</span> res = <span class="built_in">jse_call</span>(ctx, render_, JSE_UNDEFINED, <span class="number">2</span>, args);</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">jse_is_number</span>(res)) &#123;</span><br><span class="line">            <span class="type">unsigned</span> <span class="type">int</span> cid = <span class="built_in">jse_to_uint_def</span>(ctx, res, <span class="number">0</span>);</span><br><span class="line">            DomEntity* ent = p-&gt;<span class="built_in">entity</span>(cid);</span><br><span class="line">            <span class="built_in">AIOTJS_CHECK_NE</span>(ent, <span class="literal">nullptr</span>);</span><br><span class="line">            ent-&gt;<span class="built_in">setDiffOperationType</span>(DomEntityDiffOperationType::Add);</span><br><span class="line">            <span class="built_in">addChild</span>(ent);</span><br><span class="line">            <span class="keyword">if</span>(!<span class="built_in">jse_is_undefined</span>(tid_value)) &#123;</span><br><span class="line">                <span class="type">jse_value_t</span> v_tid = <span class="built_in">jse_dup_value</span>(ctx, tid_value);</span><br><span class="line">                ent-&gt;<span class="built_in">setTid</span>(v_tid);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">jse_is_array</span>(ctx, res)) &#123;</span><br><span class="line">            <span class="type">jse_size_t</span> childlen = <span class="built_in">jse_get_array_length</span>(ctx, res);</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">size_t</span> j=<span class="number">0</span>; j&lt;childlen; j++) &#123;</span><br><span class="line">                <span class="type">unsigned</span> <span class="type">int</span> cid = <span class="built_in">jse_get_array_idx_uint</span>(ctx, res, j, <span class="number">0</span>);</span><br><span class="line">                DomEntity* ent = p-&gt;<span class="built_in">entity</span>(cid);</span><br><span class="line">                <span class="built_in">AIOTJS_CHECK_NE</span>(ent, <span class="literal">nullptr</span>);</span><br><span class="line">                ent-&gt;<span class="built_in">setDiffOperationType</span>(DomEntityDiffOperationType::Add);</span><br><span class="line">                <span class="built_in">addChild</span>(ent);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">jse_free_value</span>(ctx, res);</span><br><span class="line">        <span class="built_in">jse_free_value</span>(ctx, idx);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">jse_free_value</span>(ctx, item);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">jse_free_value</span>(ctx, expValue);</span><br><span class="line">    <span class="built_in">AIOTJS_LOG_DEBUG</span>(<span class="string">&quot;DomForFragment::build finished - &lt;%u&gt;&quot;</span>, <span class="built_in">uid</span>());</span><br><span class="line">    <span class="comment">// åªæœ‰åˆå§‹åŒ–çš„æ—¶å€™è¿”å›trueè¡¨ç¤ºéœ€è¦flushï¼Œå…¶å®ƒæƒ…å†µä¸‹å»¶è¿Ÿflush</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">isBindingEffect</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>dom_update_for_fragmentæ˜¯C++ç«¯çš„èŠ‚ç‚¹æ›´æ–°å‡½æ•°ï¼Œå®ƒæœ€ç»ˆä¼šè§¦å‘èŠ‚ç‚¹çš„renderå‡½æ•°æ›´æ–°å­èŠ‚ç‚¹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">bool</span> <span class="title">DomForFragment::render</span><span class="params">(jse_context_ref ctx)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// é€’å½’æ„é€ </span></span><br><span class="line">    <span class="type">jse_value_t</span> exp_obj = <span class="built_in">jse_call</span>(ctx, exp_, JSE_UNDEFINED, <span class="number">0</span>, &#123;&#125;);</span><br><span class="line">    <span class="type">jse_value_t</span> expValue = JSE_UNDEFINED;</span><br><span class="line">    <span class="type">const</span> <span class="type">char</span>* str_tid = <span class="literal">nullptr</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è°ƒç”¨JSç«¯çš„æ±‚å€¼å‡½æ•°è·å–forå¾ªç¯å¯¹åº”çš„listå¯¹è±¡ expValue</span></span><br><span class="line">    expValue = <span class="built_in">get_from_js_expression</span>();</span><br><span class="line">    </span><br><span class="line">    ....</span><br><span class="line"></span><br><span class="line">    <span class="comment">//éå†æ•°ç»„</span></span><br><span class="line">    <span class="type">jse_size_t</span> len = <span class="built_in">jse_get_array_length</span>(ctx, expValue);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">jse_size_t</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">        <span class="comment">//ä¸ºæ¯ä¸ªelementåˆ†åˆ«è°ƒç”¨renderå‡½æ•°</span></span><br><span class="line">        <span class="type">jse_value_t</span> idx = <span class="built_in">jse_uint</span>(ctx, i);</span><br><span class="line">        <span class="type">jse_value_t</span> args[] = &#123;</span><br><span class="line">            idx,</span><br><span class="line">            item</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="type">jse_value_t</span> res = <span class="built_in">jse_call</span>(ctx, render_, JSE_UNDEFINED, <span class="number">2</span>, args);</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">jse_is_number</span>(res)) &#123;</span><br><span class="line">            <span class="type">unsigned</span> <span class="type">int</span> cid = <span class="built_in">jse_to_uint_def</span>(ctx, res, <span class="number">0</span>);</span><br><span class="line">            DomEntity* ent = p-&gt;<span class="built_in">entity</span>(cid);</span><br><span class="line">            <span class="built_in">AIOTJS_CHECK_NE</span>(ent, <span class="literal">nullptr</span>);</span><br><span class="line">            ent-&gt;<span class="built_in">setDiffOperationType</span>(DomEntityDiffOperationType::Add);</span><br><span class="line">            <span class="built_in">addChild</span>(ent);</span><br><span class="line">            <span class="keyword">if</span>(!<span class="built_in">jse_is_undefined</span>(tid_value)) &#123;</span><br><span class="line">                <span class="type">jse_value_t</span> v_tid = <span class="built_in">jse_dup_value</span>(ctx, tid_value);</span><br><span class="line">                ent-&gt;<span class="built_in">setTid</span>(v_tid);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">jse_is_array</span>(ctx, res)) &#123;</span><br><span class="line">            <span class="type">jse_size_t</span> childlen = <span class="built_in">jse_get_array_length</span>(ctx, res);</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">size_t</span> j=<span class="number">0</span>; j&lt;childlen; j++) &#123;</span><br><span class="line">                <span class="type">unsigned</span> <span class="type">int</span> cid = <span class="built_in">jse_get_array_idx_uint</span>(ctx, res, j, <span class="number">0</span>);</span><br><span class="line">                DomEntity* ent = p-&gt;<span class="built_in">entity</span>(cid);</span><br><span class="line">                <span class="built_in">AIOTJS_CHECK_NE</span>(ent, <span class="literal">nullptr</span>);</span><br><span class="line">                ent-&gt;<span class="built_in">setDiffOperationType</span>(DomEntityDiffOperationType::Add);</span><br><span class="line">                <span class="built_in">addChild</span>(ent);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">jse_free_value</span>(ctx, res);</span><br><span class="line">        <span class="built_in">jse_free_value</span>(ctx, idx);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">jse_free_value</span>(ctx, item);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">jse_free_value</span>(ctx, expValue);</span><br><span class="line">    <span class="built_in">AIOTJS_LOG_DEBUG</span>(<span class="string">&quot;DomForFragment::build finished - &lt;%u&gt;&quot;</span>, <span class="built_in">uid</span>());</span><br><span class="line">    <span class="comment">// åªæœ‰åˆå§‹åŒ–çš„æ—¶å€™è¿”å›trueè¡¨ç¤ºéœ€è¦flushï¼Œå…¶å®ƒæƒ…å†µä¸‹å»¶è¿Ÿflush</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">isBindingEffect</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="æ¡†æ¶çº¿ç¨‹æ¨¡å‹"><a href="#æ¡†æ¶çº¿ç¨‹æ¨¡å‹" class="headerlink" title="æ¡†æ¶çº¿ç¨‹æ¨¡å‹"></a>æ¡†æ¶çº¿ç¨‹æ¨¡å‹</h1><p>æ¡†æ¶é‡‡ç”¨å¤šçº¿ç¨‹æ¨¡å¼ï¼Œä¸»è¦æœ‰å¦‚ä¸‹ä¸¤ç±»çº¿ç¨‹ï¼š</p><ul><li>ä¸»çº¿ç¨‹ï¼šè´Ÿè´£æ¸²æŸ“ï¼Œåªæœ‰ä¸€ä¸ª</li><li>åº”ç”¨çº¿ç¨‹ï¼šè´Ÿè´£æ‰§è¡ŒJSä»£ç ï¼Œå“åº”æ•°æ®å˜æ›´å¹¶æ›´æ–°vdom</li></ul><p>ä¸»çº¿ç¨‹å’Œåº”ç”¨çº¿ç¨‹å„å¯åŠ¨ä¸€ä¸ªuv loopè¿›è¡Œæ¶ˆæ¯å¤„ç†ï¼Œè¿™ä¸¤ä¸ªçº¿ç¨‹é€šè¿‡libuvè¿›è¡Œå¼‚æ­¥é€šä¿¡ï¼Œä¸»è¦æœ‰å¦‚ä¸‹å‡ ç§åœºæ™¯ï¼š</p><ol><li>åº”ç”¨çº¿ç¨‹é€€å‡ºåå¼‚æ­¥é€šçŸ¥ä¸»çº¿ç¨‹é€€å‡º</li><li>åº”ç”¨çº¿ç¨‹æ›´æ–°vdomåå¼‚æ­¥é€šçŸ¥ä¸»çº¿ç¨‹åˆ·æ–°ui</li><li>ç³»ç»Ÿæ¶ˆæ¯ï¼ˆå¦‚åº”ç”¨åå°ï¼Œåº”ç”¨é€€å‡ºç­‰ï¼‰ç”±ä¸»çº¿ç¨‹å‘å‡ºï¼Œé€šè¿‡libuvè½¬åˆ°åº”ç”¨çº¿ç¨‹æ‰§è¡Œ</li></ol><h1 id="æ¸²æŸ“æµç¨‹åˆ†æ"><a href="#æ¸²æŸ“æµç¨‹åˆ†æ" class="headerlink" title="æ¸²æŸ“æµç¨‹åˆ†æ"></a>æ¸²æŸ“æµç¨‹åˆ†æ</h1><h2 id="æ¸²æŸ“æµç¨‹å›¾"><a href="#æ¸²æŸ“æµç¨‹å›¾" class="headerlink" title="æ¸²æŸ“æµç¨‹å›¾"></a>æ¸²æŸ“æµç¨‹å›¾</h2><p><img src="https://raw.githubusercontent.com/why862555625/images/main/images/33f7e704-ec72-4782-b8ff-1e58df0bef2d.svg" alt="33f7e704-ec72-4782-b8ff-1e58df0bef2d"></p><h2 id="æ¸²æŸ“æµç¨‹"><a href="#æ¸²æŸ“æµç¨‹" class="headerlink" title="æ¸²æŸ“æµç¨‹"></a>æ¸²æŸ“æµç¨‹</h2><p><img src="https://raw.githubusercontent.com/why862555625/images/main/images/6e8b9b04-5afd-47aa-9263-d3a379c1ac5b.svg" alt="6e8b9b04-5afd-47aa-9263-d3a379c1ac5b"></p><h1 id="æ¡†æ¶æ ¸å¿ƒéƒ¨åˆ†ä»‹ç»"><a href="#æ¡†æ¶æ ¸å¿ƒéƒ¨åˆ†ä»‹ç»" class="headerlink" title="æ¡†æ¶æ ¸å¿ƒéƒ¨åˆ†ä»‹ç»"></a>æ¡†æ¶æ ¸å¿ƒéƒ¨åˆ†ä»‹ç»</h1><h2 id="æ ¸å¿ƒç±»å›¾"><a href="#æ ¸å¿ƒç±»å›¾" class="headerlink" title="æ ¸å¿ƒç±»å›¾"></a>æ ¸å¿ƒç±»å›¾</h2><p><img src="https://raw.githubusercontent.com/why862555625/images/main/images/a8dc8b49-a594-454c-9309-164e3269c5e9.svg" alt="a8dc8b49-a594-454c-9309-164e3269c5e9"></p><p>è§£é‡Šï¼š</p><ol><li>Frameworkæ˜¯å†…éƒ¨ä½¿ç”¨çš„æ¡†æ¶ç±»è¡¨ç¤ºï¼ŒFrameworkExtä»Frameworkç»§æ‰¿å¹¶æ·»åŠ äº†å¯¹velaç³»ç»Ÿçš„æ¶ˆæ¯é›†æˆï¼Œåœ¨velaä¸­ä½¿ç”¨FrameworkExtè¡¨ç¤ºå”¯ä¸€çš„æ¡†æ¶å®ä¾‹</li><li>FrameworkExtä¸­ä¼šç»´æŠ¤å¤šä¸ªappå®ä¾‹ï¼Œæ¡†æ¶æ”¯æŒå¤šåº”ç”¨åˆ‡æ¢</li><li>æ¯ä¸ªappå®ä¾‹åŒ…å«ä¸€ä¸ªJSè¿è¡Œä¸Šä¸‹æ–‡ç¯å¢ƒå’Œç›¸å…³çš„libuvå¥æŸ„ï¼Œå®ƒä»¬å°è£…åœ¨RuntimeContxtä¸­ï¼Œä½œä¸ºApplicationçš„æˆå‘˜å˜é‡ä¿å­˜ï¼Œå³ä¸€ä¸ªApplicationå¯¹è±¡å”¯ä¸€å¯¹åº”ä¸€ä¸ªjsè¿è¡Œä¸Šä¸‹æ–‡ã€‚</li><li>ä¸€ä¸ªApplicatoinå¯¹è±¡å¯ä»¥æ‹¥æœ‰å¤šä¸ªPageå¯¹è±¡ï¼Œä¸€ä¸ªPageå¯¹è±¡è¡¨ç¤ºä¸€ä¸ªå¯æ˜¾ç¤ºçš„é¡µé¢ï¼Œå®é™…æ˜¯ä¸€é¢—vdomæ ‘</li><li>Pageå¯¹è±¡çš„ç»§æ‰¿å…³ç³»è¾ƒä¸ºå¤æ‚ï¼Œæ¡†æ¶æ”¯æŒè‡ªå®šä¹‰ç»„ä»¶ï¼Œä»é€»è¾‘ä¸Šè®²ï¼Œä¸€ä¸ªComponentåŒ…å«ä¸€é¢—vdomå­æ ‘ï¼Œå®ƒå¯ä»¥è¢«ä»»æ„ç»„åˆæ¥å½¢æˆæœ€ç»ˆçš„å®Œæ•´vdomæ ‘ã€‚Pageæ˜¯æœ€é¡¶å±‚çš„Componentç»„ä»¶ï¼Œå”¯ä¸€ã€‚ä»ç»§æ‰¿å…³ç³»ä¸Šè®²ï¼ŒDomDocumentè¿™ä¸€å±‚åº”è¯¥å»æ‰ï¼Œåœ¨æ·»åŠ å­ç»„ä»¶æ”¯æŒåå®ƒçš„è¯­ä¹‰å·²è¢«Componentå–ä»£ï¼Œè¿™å±‚æŠ½è±¡å½“å‰ä»£ç ä¸­æ²¡æœ‰æ„ä¹‰ä½†ä»ç„¶å­˜åœ¨ã€‚</li></ol>]]></content>
      
      
      <categories>
          
          <category> c </category>
          
      </categories>
      
      
        <tags>
            
            <tag> quickjs </tag>
            
            <tag> devtools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>quickjsè°ƒè¯•å™¨</title>
      <link href="/posts/d9795d88.html"/>
      <url>/posts/d9795d88.html</url>
      
        <content type="html"><![CDATA[<p>velaç³»ç»Ÿquickjså¯¹æ¥devtools</p><span id="more"></span><h2 id="qucickå’Œdevtoolsè¿è¡Œæ¨¡å¼"><a href="#qucickå’Œdevtoolsè¿è¡Œæ¨¡å¼" class="headerlink" title="qucickå’Œdevtoolsè¿è¡Œæ¨¡å¼"></a>qucickå’Œdevtoolsè¿è¡Œæ¨¡å¼</h2>]]></content>
      
      
      <categories>
          
          <category> c </category>
          
      </categories>
      
      
        <tags>
            
            <tag> quickjs </tag>
            
            <tag> devtools </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
