---
title: å‰ç«¯å·¥ç¨‹åŒ–
tags:
  - å‰ç«¯
categories: é¢è¯•
keywords: å‰ç«¯å·¥ç¨‹åŒ–
description: å‰ç«¯å·¥ç¨‹åŒ–
top_img: 'https://raw.githubusercontent.com/why862555625/images/main/images/00.jpg'
sticky: æ•°å€¼è¶Šå¤§è¶Šé å‰
cover: 'https://raw.githubusercontent.com/why862555625/images/main/images/00.jpg'
comments: falseè¯„è®º
abbrlink: 7db00131
date: 2023-05-26 15:59:17
updated: 2023-05-26 15:59:17
---
å‰ç«¯å·¥ç¨‹åŒ–
<!-- more -->



## Q1. é¢è¯•å®˜ï¼šè¯·è¯´è¯´å¸¸è§çš„loader

- `sass-loader`ï¼šå°†SCSS/SASSä»£ç è½¬æ¢æˆCSS
- `postcss-loader`ï¼šæ‰©å±• CSS è¯­æ³•ï¼Œä½¿ç”¨ä¸‹ä¸€ä»£ CSSï¼Œå¯ä»¥é…åˆ autoprefixer æ’ä»¶è‡ªåŠ¨è¡¥é½ CSS3 å‰ç¼€ï¼ŒåŠ ä¸Šå…¼å®¹çš„æµè§ˆå™¨å‚å•†å‰ç¼€
- `css-loader`ï¼šå¤„ç†æ ·å¼ä¹‹é—´äº’ç›¸å¼•ç”¨çš„é€»è¾‘, åŠ è½½ CSSï¼Œæ”¯æŒæ¨¡å—åŒ–ã€å‹ç¼©ã€æ–‡ä»¶å¯¼å…¥ç­‰ç‰¹æ€§
- `style-loader`ï¼šå°† css-loader è§£æåçš„å†…å®¹æŒ‚è½½åˆ° html é¡µé¢å½“ä¸­
- `file-loader`ï¼šå¯ä»¥æŒ‡å®šè¦å¤åˆ¶å’Œæ”¾ç½®èµ„æºæ–‡ä»¶çš„ä½ç½®ï¼Œä»¥åŠä½¿ç”¨ç‰ˆæœ¬å“ˆå¸Œå‘½åä»¥è·å¾—æ›´å¥½çš„ç¼“å­˜ï¼Œåœ¨ä»£ç ä¸­é€šè¿‡ç›¸å¯¹ URL å»å¼•ç”¨è¾“å‡ºçš„æ–‡ä»¶ (å¤„ç†å›¾ç‰‡å’Œå­—ä½“)ã€‚
- `url-loader`ï¼šä¸ file-loader ç±»ä¼¼ï¼ŒåŒºåˆ«æ˜¯ç”¨æˆ·å¯ä»¥è®¾ç½®ä¸€ä¸ªé˜ˆå€¼ï¼Œå¤§äºé˜ˆå€¼ä¼šäº¤ç»™ file-loader å¤„ç†ï¼Œå°äºé˜ˆå€¼æ—¶è¿”å›æ–‡ä»¶ base64 å½¢å¼ç¼–ç ï¼Œå‡å°‘HTTPè¯·æ±‚
- `image-loader`ï¼šåŠ è½½å¹¶ä¸”å‹ç¼©å›¾ç‰‡æ–‡ä»¶
- `source-map-loader`ï¼šåŠ è½½é¢å¤–çš„ Source Map æ–‡ä»¶ï¼Œä»¥æ–¹ä¾¿æ–­ç‚¹è°ƒè¯•
- `json-loader` åŠ è½½ JSON æ–‡ä»¶ï¼ˆé»˜è®¤åŒ…å«ï¼‰
- `babel-loader`ï¼šæŠŠ ES6 è½¬æ¢æˆ ES5
- `ts-loader`: å°† TypeScript è½¬æ¢æˆ JavaScript
- `tslint-loader`ï¼šé€šè¿‡ TSLintæ£€æŸ¥ TypeScript ä»£ç 
- `eslint-loader`ï¼šé€šè¿‡ ESLint æ£€æŸ¥ JavaScript ä»£ç 
- `mocha-loader`ï¼šåŠ è½½ Mocha æµ‹è¯•ç”¨ä¾‹çš„ä»£ç 
- `coverjs-loader`ï¼šè®¡ç®—æµ‹è¯•çš„è¦†ç›–ç‡
- `vue-loader`ï¼šå°† Vue ç»„ä»¶è½¬æ¢ä¸º JavaScript æ¨¡å—
- `i18n-loader`: å›½é™…åŒ–
- `awesome-typescript-loader`ï¼šå°† TypeScript è½¬æ¢æˆ JavaScriptï¼Œæ€§èƒ½ä¼˜äº ts-loader

> loader çš„æ‰§è¡Œé¡ºåºè¦æ³¨æ„ï¼css ç›¸å…³çš„loader è¦æŒ‰ç…§ä¸‹å›¾æ¥å†™ã€‚å› ä¸º loader çš„æ‰§è¡Œé¡ºåºæ˜¯ä»åå¾€å‰ã€ä»ä¸‹å¾€ä¸Šã€‚ æ‰€ä»¥æˆ‘ä»¬è¦ç”¨ `saas-loader` æ¥å¤„ç† sass æ–‡ä»¶, å†æŠŠå®ƒäº¤ç»™ `postcss-loader` åŠ ä¸Šæµè§ˆå™¨å‚å•†å‰ç¼€ã€‚ç„¶åé€šè¿‡ `css-loader` å¤„ç†æ ·å¼ä¹‹é—´çš„å¼•ç”¨é€»è¾‘ã€‚æœ€åé€šè¿‡ `style-loader` å°†å®ƒæŒ‚åœ¨åˆ° htmlä¸Š

![image-20230611211119358](https://raw.githubusercontent.com/why862555625/images/main/imagesimage-20230611211119358.png)

## Q2. é¢è¯•å®˜ï¼šè¯·è¯´è¯´å¸¸è§çš„ plugins

1. `html-webpack-plugin`ï¼šåœ¨ dist ä¸‹ç”Ÿæˆ html æ–‡ä»¶ã€‚ç®€åŒ– HTML æ–‡ä»¶åˆ›å»º (ä¾èµ–äº html-loader)
2. `clean-webpack-plugin`: ç›®å½•æ¸…ç†ã€‚æŠŠ dist åˆ é™¤å†ç”Ÿæˆæ‰“åŒ…ç»“æœ
3. `copy-webpack-plugin` å› ä¸º public æ–‡ä»¶ä¸‹çš„èµ„æºæ˜¯å›ºå®šçš„ï¼Œç›´æ¥æ‹·è´åˆ°ç¼–è¯‘åçš„æ–‡ä»¶å¤¹å¼•å…¥ä½¿ç”¨å°±å¯ä»¥ï¼Œä¾‹å¦‚ favicon.ico
4. `open-browser-webpack-plugin` å¯åŠ¨webpackä¹‹åï¼Œè‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨
5. `mini-css-extract-plugin`: åˆ†ç¦»æ ·å¼æ–‡ä»¶ï¼ŒCSS æå–ä¸ºç‹¬ç«‹æ–‡ä»¶ï¼Œæ”¯æŒæŒ‰éœ€åŠ è½½
6. `webpack-parallel-uglify-plugin`: å¤šè¿›ç¨‹æ‰§è¡Œä»£ç å‹ç¼©ï¼Œæå‡æ„å»ºé€Ÿåº¦
7. `HappyPack Plugin`: å¼€å¯å¤šè¿›ç¨‹æ‰“åŒ…ï¼Œæå‡æ‰“åŒ…é€Ÿåº¦
8. `webpack-bundle-analyzer`: å¯è§†åŒ– Webpack è¾“å‡ºæ–‡ä»¶çš„ä½“ç§¯ (ä¸šåŠ¡ç»„ä»¶ã€ä¾èµ–ç¬¬ä¸‰æ–¹æ¨¡å—)
9. `Dllplugin`: åŠ¨æ€é“¾æ¥åº“ï¼Œå°†é¡¹ç›®ä¸­ä¾èµ–çš„ä¸‰æ–¹æ¨¡å—æŠ½ç¦»å‡ºæ¥ï¼Œå•ç‹¬æ‰“åŒ…
10. `DllReferencePlugin`: é…åˆ Dllpluginï¼Œé€šè¿‡ manifest.json æ˜ å°„åˆ°ç›¸å…³çš„ä¾èµ–ä¸Šå»
11. `vue-skeleton-webpack-plugin`: vue é¡¹ç›®å®ç°éª¨æ¶å±

## Q3. é¢è¯•å®˜ï¼šloaders è·Ÿ plugin çš„åŒºåˆ«

**1ã€æ¦‚å¿µä¸ä¸€æ ·ã€‚**

`Loader` æœ¬è´¨å°±æ˜¯ä¸€ä¸ªå‡½æ•°ã€‚å¯¹å‡½æ•°ä¸­æ¥æ”¶åˆ°çš„å†…å®¹è¿›è¡Œè½¬æ¢ï¼Œè¿”å›è½¬æ¢åçš„ç»“æœã€‚Loader çš„ä½œç”¨æ˜¯è®© webpack æ‹¥æœ‰åŠ è½½å’Œè§£æé JavaScript æ–‡ä»¶çš„èƒ½åŠ›ï¼ å› ä¸º Webpack åªè®¤è¯† JavaScriptï¼Œæ‰€ä»¥éœ€è¦å¯¹å…¶ä»–ç±»å‹çš„èµ„æºè¿›è¡Œè½¬è¯‘çš„**é¢„å¤„ç†**å·¥ä½œã€‚Loader å¯ä»¥ç†è§£ä¸ºã€Œç¿»è¯‘å®˜ã€ã€‚æ¯”å¦‚å¸¸è§çš„ **json-loader**, **ts-loader**ç­‰ã€‚

`Plugin` å°±æ˜¯æ’ä»¶ï¼Œæ’ä»¶å¯ä»¥æ‰©å±• Webpack çš„åŠŸèƒ½ï¼Œè®© Webpack å…·æœ‰æ›´å¤šçš„çµæ´»æ€§ã€‚ åœ¨ Webpack è¿è¡Œçš„ç”Ÿå‘½å‘¨æœŸä¸­ä¼šå¹¿æ’­å‡ºè®¸å¤šäº‹ä»¶ï¼ŒPlugin å¯ä»¥ç›‘å¬è¿™äº›äº‹ä»¶ï¼Œåœ¨åˆé€‚çš„æ—¶æœºé€šè¿‡ Webpack æä¾›çš„ API æ”¹å˜è¾“å‡ºç»“æœã€‚

**2ã€é…ç½®æ–¹å¼ä¸ä¸€æ ·**

`Loader` åœ¨ module.rules ä¸­é…ç½®ï¼Œä½œä¸ºæ¨¡å—çš„è§£æè§„åˆ™ï¼Œç±»å‹ä¸ºæ•°ç»„ã€‚æ¯ä¸€é¡¹éƒ½æ˜¯ä¸€ä¸ª Object. `Plugin` åœ¨ plugins ä¸­å•ç‹¬é…ç½®ï¼Œç±»å‹ä¸ºæ•°ç»„ï¼Œæ¯ä¸€é¡¹æ˜¯ä¸€ä¸ª Plugin çš„å®ä¾‹ï¼Œå‚æ•°éƒ½é€šè¿‡æ„é€ å‡½æ•°ä¼ å…¥ã€‚

**3ã€è¿è¡Œæ—¶æœºä¸ä¸€æ ·**

`Loader` è¿è¡Œåœ¨æ‰“åŒ…æ–‡ä»¶ä¹‹å‰ï¼ˆloaderä¸ºåœ¨æ¨¡å—åŠ è½½æ—¶çš„é¢„å¤„ç†æ–‡ä»¶ï¼‰ã€‚`plugins` åœ¨æ•´ä¸ªç¼–è¯‘å‘¨æœŸéƒ½èµ·ä½œç”¨

## Q4. é¢è¯•å®˜ï¼šbabel-loaderã€babel/preset-envã€babel-polyfillã€babel-transform-runtime ä»€ä¹ˆåŒºåˆ«

- **babel-loader** æŠŠbabelè·Ÿwebpackè¿æ¥ä¸Šã€‚ç›¸å½“äºæ˜¯æ¡¥æ¢ã€‚å®é™…ä¸Šè¿˜ä¸èƒ½æŠŠes6è½¬æˆes5

- **babel/preset-env** é¢„è®¾ï¼Œèƒ½æŠŠletè¯­å¥ç­‰ç¿»è¯‘æˆes5ï¼ˆä½†æ˜¯promiseã€generatorç­‰è¯­æ³•ä¸è¡Œï¼‰

- **babel-polyfill** æ‰çœŸæ­£çš„æ”¯æŒPromiseç­‰è¯­æ³•

  *@babel-polyfillåŒ… = corejsåŒ… + regeneratoråŒ…*

> **corejs** å°‘äº† **generator**è¯­æ³•ï¼Œ ä½†æ”¯æŒå…¶å®ƒes6ç”šè‡³æ›´é«˜ç‰ˆæœ¬çš„ js. 

> **regenerator** æ”¯æŒ generator. è¡¥å……äº†corejs!

- **babel-transform-runtime** ä¸ºä»£ç æä¾›äº†ä¸€ä¸ªæ²™ç›’ç¯å¢ƒï¼Œæ‰€ä»¥ä¸ä¼šåƒ **babel-polyfill**ä¸€æ ·æ±¡æŸ“å…¨å±€å˜é‡ï¼Œå› æ­¤é€‚ç”¨äºå¼€å‘ç»„ä»¶åº“ã€‚æ³¨æ„ï¼š**babel-polyfill**ä¼šæ±¡æŸ“å…¨å±€å˜é‡ã€‚åœ¨å¼€å‘ä¸šåŠ¡ä»£ç çš„æ—¶å€™ï¼Œæ— éœ€è€ƒè™‘è¯¥é—®é¢˜ã€‚

## Q5. é¢è¯•å®˜ï¼šwebpack å¦‚ä½•ä¼˜åŒ–æ„å»ºä½“ç§¯è·Ÿé€Ÿåº¦

### 1. Tree Shakingï¼ˆä¼˜åŒ–ä½“ç§¯ã€é™ä½æ„å»ºé€Ÿåº¦ï¼‰

Tree Shaking æŠŠæºä»£ç é‡Œæ²¡ç”¨åˆ°çš„ä»£ç ï¼Œä¸æ‰“åŒ…ã€‚ï¼ˆå‡å°‘åŒ…ä½“ç§¯ï¼ŒåŠ å¿«é€Ÿåº¦ï¼‰ å¯ä»¥è¿™ä¹ˆé…ç½®

```arduino
optimization: { // ä¼˜åŒ–é¡¹
   // sideEffectså’ŒusedExportsæ˜¯ä¸¤ç§ä¸åŒçš„ä¼˜åŒ–æ–¹å¼ã€‚
   usedExports: true, // è¯†åˆ«æ— ç”¨ä»£ç  æœªä½¿ç”¨çš„å¯¼å‡ºå†…å®¹ä¸ä¼šè¢«ç”Ÿæˆ usedExports ä¾èµ–äº terser å»æ£€æµ‹è¯­å¥ä¸­çš„å‰¯ä½œç”¨ã€‚
   // sideEffects: true,  // å¼€å¯å‰¯ä½œç”¨æ ‡è¯†åŠŸèƒ½ sideEffectsæ›´ä¸ºæœ‰æ•ˆæ˜¯å› ä¸ºå®ƒå…è®¸è·³è¿‡æ•´ä¸ªæ¨¡å—/æ–‡ä»¶å’Œæ•´ä¸ªæ–‡ä»¶å­æ ‘ã€‚
 },
```

> æ³¨æ„ï¼š **tree Shaking** åªæ”¯æŒ ES Moduleï¼Œä¸æ”¯æŒ Commonjs
>
> vue è„šæ‰‹æ¶æ­å»ºçš„é¡¹ç›®ï¼Œé»˜è®¤å·²ç»ç»™ä½ é…ç½®å¥½äº† tree Shaking
>
> äº†è§£æ›´å¤šï¼Œè¯·çœ‹çœ‹è¿™ç¯‡æ–‡ç«  [webpacké…ç½®-tree shaking](https://link.juejin.cn?target=https%3A%2F%2Fzhuanlan.zhihu.com%2Fp%2F417686391)

### 2. ä½¿ç”¨æ‡’åŠ è½½

![image-20230611211511770](https://raw.githubusercontent.com/why862555625/images/main/imagesimage-20230611211511770.png)

### 3. ä»£ç åˆ†å‰²ï¼ˆä¼˜åŒ–æ„å»ºé€Ÿåº¦ï¼‰

`ä»£ç åˆ†å‰²` åˆ†æˆ  **jsä»£ç åˆ†å‰²** è·Ÿ **cssä»£ç åˆ†å‰²**ã€‚

**jsä»£ç åˆ†å‰²ï¼ˆä¸¤ç§å®ç°æ–¹å¼ï¼‰**

- ä½¿ç”¨entryé…ç½®æ‰‹åŠ¨åˆ†ç¦»

  ![image-20230611211558746](https://raw.githubusercontent.com/why862555625/images/main/imagesimage-20230611211558746.png)

- ä½¿ç”¨ webpack çš„ splitChunks å»è‡ªåŠ¨åˆ†å‰²ï¼ˆsplitChunks æ›¿ä»£äº† CommonsChunkPlugin æ’ä»¶ï¼‰

  ![image-20230611211621905](https://raw.githubusercontent.com/why862555625/images/main/imagesimage-20230611211621905.png)

**cssä»£ç åˆ†å‰²**

æ²¡é…ç½® cssä»£ç åˆ†å‰²çš„è¯ï¼Œcss ä»£ç ä¼šæ‰“åŒ…åˆ° js é‡Œå»ï¼ˆcss in jsï¼‰. æˆ‘ä»¬å¹¶ä¸å¸Œæœ› css æ··å…¥åˆ° js é‡Œï¼Œè€Œæ˜¯å¸Œæœ› css ä½œä¸ºå¤–é“¾å•ç‹¬åº”ç”¨ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦åšä»£ç åˆ†å‰²ï¼

è¿™æ—¶å€™å°±å¯ä»¥ç”¨ `mini-css-extract-plugin`ï¼ˆç”Ÿäº§ç¯å¢ƒç”¨å°±å¥½ã€‚å¼€å‘ç¯å¢ƒ css in js æ²¡ä»€ä¹ˆå¤§é—®é¢˜ã€‚åè€Œèƒ½å‡å°‘ webpack å·¥ä½œé‡ï¼Œè¿˜èƒ½æé«˜æ„å»ºé€Ÿåº¦ã€‚æ‰€ä»¥é…ç½®åœ¨ webpack.prod.js å°±å¥½ï¼‰

![image-20230611211707693](https://raw.githubusercontent.com/why862555625/images/main/imagesimage-20230611211707693.png)

### 4. file-loader

file-loader å¯ä»¥æŒ‡å®šè¦å¤åˆ¶å’Œæ”¾ç½®èµ„æºæ–‡ä»¶çš„ä½ç½®ï¼Œä»¥åŠä½¿ç”¨ç‰ˆæœ¬å“ˆå¸Œå‘½åä»¥è·å¾—æ›´å¥½çš„ç¼“å­˜ï¼ˆhashå€¼æ˜¯æ ¹æ®æ–‡ä»¶å†…å®¹ç®—å‡ºæ¥çš„ï¼Œæ‰€ä»¥æ–‡ä»¶å†…å®¹ä¸å˜ï¼Œhashå€¼ä¸å˜ï¼Œæµè§ˆå™¨å°±å¯ä»¥ç”¨ç¼“å­˜çš„å†…å®¹ã€‚ï¼‰ã€‚

### 5. url-loader

url-loader æ–‡ä»¶å¤§äºè¯¥é˜ˆå€¼äº¤ç»™file-loaderå»å¤„ç†ï¼Œå°äºé˜ˆå€¼è½¬æˆ base64ï¼Œå‡å°‘ HTTP è¯·æ±‚æ•°

### 6. DllPlugin

ä»€ä¹ˆæ˜¯`DllPlugin`å‘¢ ï¼Ÿ

å¦‚æœä½ ä½¿ç”¨vueæŠ€æœ¯æ ˆæ¥å¼€å‘ï¼Œä½ æ”¹åŠ¨äº†ä¸€è¡Œä¸šåŠ¡ä»£ç è¿™åŠ¿å¿…ä¸ä¼šå½±å“vueæºç ï¼Œä½†æ˜¯ä½ æ„å»ºçš„æ—¶å€™å‘ç°äº†æ‰€æœ‰çš„ä»£ç éƒ½è¢«é‡æ–°æ„å»ºäº†ï¼Œè¿™æ˜¾ç„¶æ˜¯ä¸åˆç†çš„ï¼Œè€Œ DllPlugin å°±æ˜¯è§£å†³è¿™ä¸ªé—®é¢˜çš„ã€‚è®©æˆ‘ä»¬å°†ç¬¬ä¸‰æ–¹åº“è¿™ç§æ— è®ºæˆ‘ä»¬æ€ä¹ˆæ”¹ä¸šåŠ¡ä»£ç æ„å»ºç»“æœéƒ½ä¸ä¼šå‘ç”Ÿæ”¹å˜çš„æ¨¡å—å•ç‹¬æ‹†å‡ºæ¥æ„å»ºï¼Œä¸‹æ¬¡åªè¦ä¸æ”¹å˜ç¬¬ä¸‰æ–¹åº“å°±ç›´æ¥å¼•ç”¨ç°æˆçš„æ„å»ºç»“æœå°±å¯ä»¥äº†

é‚£æˆ‘ä»¬è¦æ€ä¹ˆä½¿ç”¨å‘¢ï¼Ÿ ä¸»è¦æœ‰ä¸¤æ­¥

1. é€šè¿‡ DllPlugin æ‰“åŒ…å‡ºåŠ¨æ€é“¾æ¥åº“
2. ç”¨ DllReferencePlugin åœ¨ä¸»æ„å»ºä¸­å¼•å…¥åŠ¨æ€é“¾æ¥åº“å°±å¯ä»¥äº†

æ›´å¤šå†…å®¹å¯ä»¥çœ‹çœ‹è¿™ç¯‡æ–‡ç«  [webpackä¼˜åŒ–â€”â€”Dllplugin](https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Friddle1981%2Farticle%2Fdetails%2F114345250)

### 7. externalsï¼ˆåˆ©ç”¨cdn, ä¼˜åŒ–ä½“ç§¯ã€ä¼˜åŒ–æ„å»ºé€Ÿåº¦ï¼‰

**å¸¸ç”¨åº“æ›¿æ¢æˆcdnæ–‡ä»¶**

externals æ˜¯å¸¸ç”¨ä¼˜åŒ–æ‰‹æ®µã€‚æ„å»ºæ—¶ï¼Œå°†ä¾èµ–æ–‡ä»¶ç›¸å…³ä» node_modules å¯¼å…¥æ”¹ä¸ºå¤–éƒ¨é“¾æ¥å¼•ç”¨(å³ï¼šé€šè¿‡ script æ ‡ç­¾ï¼Œä»¥ CDN çš„æ–¹å¼åŠ è½½)

ä½ å¯ä»¥æŠŠå¸¸è§çš„ libs ä»¥ CDN çš„æ–¹å¼å¯¼å…¥ï¼Œåƒ vueï¼Œreactï¼Œjquery ç­‰ï¼Œä»–ä»¬çš„å®˜æ–¹éƒ½æä¾›äº†å¯é çš„ CDN æœåŠ¡ã€‚

æˆ‘ä»¬éœ€è¦åœ¨vue.config.jsé‡Œå®šä¹‰é”®å€¼å¯¹ã€‚keyå°±æ˜¯æˆ‘ä»¬å¼•å…¥çš„åŒ…çš„åå­—ã€‚valueå°±æ˜¯æˆ‘ä»¬å¼•å…¥çš„åŒ…æŒ‚è½½åœ¨å…¨å±€ç”¨çš„å˜é‡åã€‚

![image-20230611211904082](https://raw.githubusercontent.com/why862555625/images/main/imagesimage-20230611211904082.png)

**å¸¸ç”¨uiåº“çš„cssæ–‡ä»¶æ›¿æ¢æˆcdnæ–‡ä»¶**

é™¤äº†jsåº“å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥å°†element uiçš„cssé€šè¿‡cdnçš„æ–¹å¼å¼•å…¥ã€‚

![image-20230611211918155](https://raw.githubusercontent.com/why862555625/images/main/imagesimage-20230611211918155.png)

### 8. babel-loader ä¼˜åŒ–

babel-loader å¸®åŠ©æˆ‘ä»¬æŠŠ es6è½¬æ¢ä¸ºes5ã€‚ä½†æ˜¯æˆ‘ä»¬ä»éœ€è¦å¯¹ babel-loader è¿›è¡Œä¸¤ç‚¹ä¼˜åŒ–ã€‚

ä¸€ã€è®¾ç½® babel-loader ç¼–è¯‘è¿‡ç¨‹ä¸­éœ€è¦è§£æçš„è·¯å¾„ï¼Œä»¥åŠæ’é™¤ node_modules ç›¸å…³ä¾èµ–ï¼›**include**ã€ **exclude** äºŒè€…é€‰å…¶ä¸€

äºŒï¼šåŠ ä¸Š **cacheDirectory** å¼€å¯ç¼“å­˜ã€‚

![image-20230611211944102](https://raw.githubusercontent.com/why862555625/images/main/imagesimage-20230611211944102.png)

### 9. ignorePlugin è·Ÿ noParse

**ignorePlugin**
 `ignorePlugin` å¿½ç•¥æŸäº›æ¨¡å—ä¸‹çš„æŸä¸ªæ–‡ä»¶å¤¹ã€‚
 ä¾‹å¦‚ moment è¿™ä¸ªåŒ…æŒºå¤§çš„ï¼Œé‡Œå¤´åŒ…å«äº†å¾ˆå¤šå›½å®¶çš„å›½é™…åŒ–æ–¹é¢çš„ä¸œè¥¿ã€‚ä½†æ˜¯æˆ‘ä»¬åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œä¸€èˆ¬ä¸­æ–‡å°±å¤Ÿäº†ã€‚

![image-20230611212005701](https://raw.githubusercontent.com/why862555625/images/main/imagesimage-20230611212005701.png)

**noParse**

`noParse` ä¸å»åšè§£æã€‚å¿½ç•¥æ‰

![image-20230611212019409](https://raw.githubusercontent.com/why862555625/images/main/imagesimage-20230611212019409.png)

**ignorePlugin è·Ÿ noParse çš„åŒºåˆ«**

- **ignorePlugin** æ˜¯å¿½ç•¥æ‰ï¼Œæœ€ç»ˆç”Ÿæˆçš„ä»£ç ä¹Ÿä¸ä¼šåŒ…æ‹¬è¯¥ä»£ç 
- **noParse** æ˜¯ä¸åšæ‰“åŒ…ï¼Œä½†æ˜¯æœ€åæ‰“åŒ…åçš„æ–‡ä»¶æ˜¯åŒ…å«è¯¥ä»£ç çš„

### 10. å¼€å¯å¤šè¿›ç¨‹

1. **å¤šè¿›ç¨‹æ‰“åŒ…**ï¼š`happypack plugins` ï¼Œå®ƒå°†å°½å¯èƒ½åˆ©ç”¨ç¡¬ä»¶èµ„æºï¼Œå¤šçº¿ç¨‹æ–¹å¼æ¥ç¼–è¯‘ä»£ç ã€‚
2. **å¤šè¿›ç¨‹å‹ç¼©**ï¼š`webpack-parallel-uglify-plugin` è¿™ä¸ªæ’ä»¶èƒ½è®©æˆ‘ä»¬å¼€å¯å¤šè¿›ç¨‹æ¥å‹ç¼© js ä»£ç ï¼ˆç”Ÿäº§ç¯å¢ƒé…ç½®å°±å¥½äº†ã€‚å¼€å‘ç¯å¢ƒä¼šåŠ å¤§å¼€é”€ï¼‰

è®²äº†è¿™ä¹ˆå¤šæ˜¯ä¸æ˜¯å¿«æ™•å•¦ã€‚

åˆ«æ€•ï¼Œé™„ä¸Šæ€ç»´å¯¼å›¾æ€»ç»“ï¼ˆå¦ˆå¦ˆå†ä¹Ÿä¸ç”¨æ‹…å¿ƒæˆ‘è®°ä¸ä½äº†ğŸ˜„ï¼‰

![image-20230611212120443](https://raw.githubusercontent.com/why862555625/images/main/imagesimage-20230611212120443.png)

## Q6. è¯´ä¸€ä¸‹ Webpack çš„çƒ­æ›´æ–°åŸç†å§

`Webpack` çš„çƒ­æ›´æ–°åˆç§°çƒ­æ›¿æ¢ï¼ˆ`Hot Module Replacement`ï¼‰ï¼Œç¼©å†™ä¸º `HMR`ã€‚ å¯ä»¥åšåˆ°æ— éœ€å®Œå…¨åˆ·æ–°æ•´ä¸ªé¡µé¢çš„åŒæ—¶ï¼Œä¿ç•™é¡µé¢çŠ¶æ€å¹¶ä¸”æ›´æ–°æ¨¡å—ã€‚æåˆ°çƒ­æ›´æ–°æˆ‘ä»¬ä¸å¾—ä¸çŸ¥é“å¦ä¸€ä¸ªæ¦‚å¿µâ€”â€”WDSã€‚`webpack-dev-server(WDS)`æ˜¯ä¸€ä¸ªåŸºäºexpressçš„web serverï¼Œserverå†…éƒ¨è°ƒç”¨webpackï¼Œè¿™æ ·çš„å¥½å¤„æ˜¯æä¾›äº†çƒ­åŠ è½½å’Œçƒ­æ›¿æ¢çš„åŠŸèƒ½

çƒ­æ›´æ–°çš„æ ¸å¿ƒå°±æ˜¯å®¢æˆ·ç«¯ä»æœåŠ¡ç«¯æ‹‰å–æ›´æ–°åçš„æ–‡ä»¶ï¼Œå‡†ç¡®çš„è¯´æ˜¯ chunk diff (chunk éœ€è¦æ›´æ–°çš„éƒ¨åˆ†)ï¼Œå®é™…ä¸Š WDS ä¸æµè§ˆå™¨ä¹‹é—´ç»´æŠ¤äº†ä¸€ä¸ªWebsocketï¼Œå½“æœ¬åœ°èµ„æºå‘ç”Ÿå˜åŒ–æ—¶ï¼ŒWDS ä¼šå‘æµè§ˆå™¨æ¨é€æ›´æ–°ï¼Œå¹¶å¸¦ä¸Šæ„å»ºæ—¶çš„ hashï¼Œè®©å®¢æˆ·ç«¯ä¸ä¸Šä¸€æ¬¡èµ„æºè¿›è¡Œå¯¹æ¯”ã€‚å®¢æˆ·ç«¯å¯¹æ¯”å‡ºå·®å¼‚åä¼šå‘ WDS å‘èµ·Ajaxè¯·æ±‚æ¥è·å–æ›´æ”¹å†…å®¹(æ–‡ä»¶åˆ—è¡¨ã€hash)ï¼Œè¿™æ ·å®¢æˆ·ç«¯å°±å¯ä»¥å†å€ŸåŠ©è¿™äº›ä¿¡æ¯ç»§ç»­å‘ WDS å‘èµ·jsonpè¯·æ±‚è·å–è¯¥chunkçš„å¢é‡æ›´æ–°ã€‚

## Q7. é¢è¯•å®˜ï¼šWebpack proxy ä¸ºä»€ä¹ˆèƒ½è§£å†³è·¨åŸŸ

> èƒŒæ™¯ï¼šåœ¨å¼€å‘é˜¶æ®µï¼Œ `webpack-dev-server` ä¼šå¯åŠ¨ä¸€ä¸ªæœ¬åœ°å¼€å‘æœåŠ¡å™¨ï¼Œæ‰€ä»¥æˆ‘ä»¬çš„åº”ç”¨åœ¨å¼€å‘é˜¶æ®µæ˜¯ç‹¬ç«‹è¿è¡Œåœ¨ `localhost`çš„ä¸€ä¸ªç«¯å£ä¸Šï¼Œè€Œåç«¯æœåŠ¡åˆæ˜¯è¿è¡Œåœ¨å¦å¤–ä¸€ä¸ªåœ°å€ä¸Š
>
> æ‰€ä»¥åœ¨å¼€å‘é˜¶æ®µä¸­ï¼Œç”±äºæµè§ˆå™¨åŒæºç­–ç•¥çš„åŸå› ï¼Œå½“æœ¬åœ°è®¿é—®åç«¯å°±ä¼šå‡ºç°è·¨åŸŸè¯·æ±‚çš„é—®é¢˜

é€šè¿‡è®¾ç½®`webpack proxy`å®ç°ä»£ç†è¯·æ±‚åï¼Œç›¸å½“äºæµè§ˆå™¨ä¸æœåŠ¡ç«¯ä¸­æ·»åŠ ä¸€ä¸ªä»£ç†è€…

å½“æœ¬åœ°å‘é€è¯·æ±‚çš„æ—¶å€™ï¼Œä»£ç†æœåŠ¡å™¨å“åº”è¯¥è¯·æ±‚ï¼Œå¹¶å°†è¯·æ±‚è½¬å‘åˆ°ç›®æ ‡æœåŠ¡å™¨ï¼Œç›®æ ‡æœåŠ¡å™¨å“åº”æ•°æ®åå†å°†æ•°æ®è¿”å›ç»™ä»£ç†æœåŠ¡å™¨ï¼Œæœ€ç»ˆå†ç”±ä»£ç†æœåŠ¡å™¨å°†æ•°æ®å“åº”ç»™æœ¬åœ°

![img](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/928dca390f3440d0a6ebf0bccd01b386~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp)

**è¿™æ˜¯å› ä¸ºï¼š** åœ¨ä»£ç†æœåŠ¡å™¨ä¼ é€’æ•°æ®ç»™æœ¬åœ°æµè§ˆå™¨çš„è¿‡ç¨‹ä¸­ï¼Œä¸¤è€…åŒæºï¼Œå¹¶ä¸å­˜åœ¨è·¨åŸŸè¡Œä¸ºï¼Œè¿™æ—¶å€™æµè§ˆå™¨å°±èƒ½æ­£å¸¸æ¥æ”¶æ•°æ®ã€‚è€ŒæœåŠ¡å™¨ä¸æœåŠ¡å™¨ä¹‹é—´è¯·æ±‚æ•°æ®ä¸ä¼šå­˜åœ¨è·¨åŸŸè¡Œä¸ºï¼ˆå› ä¸ºè·¨åŸŸè¡Œä¸ºæ˜¯æµè§ˆå™¨å®‰å…¨ç­–ç•¥é™åˆ¶ï¼‰

## Q8. é¢è¯•å®˜ï¼šæ‰‹å†™ä¸€ä¸ªLoaderæ¥ç§ç§

**ä¸€ä¸ªç®€å•çš„`style-loader`**

```ini
// ä½œç”¨ï¼šå°†csså†…å®¹ï¼Œé€šè¿‡styleæ ‡ç­¾æ’å…¥åˆ°é¡µé¢ä¸­
// sourceä¸ºè¦å¤„ç†çš„cssæºæ–‡ä»¶
function loader(source) {
  let style = `
    let style = document.createElement('style');
    style.setAttribute("type", "text/css");
    style.innerHTML = ${source};
    document.head.appendChild(style)`;
  return style;
}
module.exports = loader;
```

**æœ€åï¼Œåœ¨ vue é¡¹ç›®ä¸­ä½¿ç”¨è‡ªå®šä¹‰ loader**

1ï¼‰åœ¨`vue.config.js`å¼•å…¥è¯¥ loader

```
const MyStyleLoader = require('./style-loader')
```

2ï¼‰åœ¨`configureWebpack`ä¸­æ·»åŠ é…ç½®

```css
module.exports = {
  configureWebpack: {
    module: {
      rules: [
        {
          // å¯¹main.cssæ–‡ä»¶ä½¿ç”¨MyStyleLoaderå¤„ç†
          test: /main.css/,
          loader: MyStyleLoader
        }
      ]
    }
  }
};
```

3ï¼‰é¡¹ç›®é‡æ–°ç¼–è¯‘
 `main.css`æ ·å¼å·²åŠ è½½åˆ°é¡µé¢ä¸­

## Q9. é¢è¯•å®˜ï¼šæ‰‹å†™ä¸€ä¸ªPluginæ’ä»¶

Plugin çš„ç»„æˆéƒ¨åˆ†

1ï¼‰Plugin çš„æœ¬è´¨æ˜¯ä¸€ä¸ª `node æ¨¡å—`ï¼Œè¿™ä¸ªæ¨¡å—å¯¼å‡ºä¸€ä¸ª JavaScript ç±»

2ï¼‰å®ƒçš„åŸå‹ä¸Šéœ€è¦å®šä¹‰ä¸€ä¸ª`apply` çš„æ–¹æ³•

3ï¼‰é€šè¿‡`compiler`è·å– webpack å†…éƒ¨çš„é’©å­ï¼Œè·å– webpack æ‰“åŒ…è¿‡ç¨‹ä¸­çš„å„ä¸ªé˜¶æ®µ

é’©å­åˆ†ä¸ºåŒæ­¥å’Œå¼‚æ­¥çš„é’©å­ï¼Œå¼‚æ­¥é’©å­å¿…é¡»æ‰§è¡Œå¯¹åº”çš„å›è°ƒ

4ï¼‰é€šè¿‡`compilation`æ“ä½œ webpack å†…éƒ¨å®ä¾‹ç‰¹å®šæ•°æ®

5ï¼‰åŠŸèƒ½å®Œæˆåï¼Œæ‰§è¡Œ webpack æä¾›çš„ cb å›è°ƒ

```javascript
// è‡ªå®šä¹‰ä¸€ä¸ªåä¸ºMyPluginæ’ä»¶ï¼Œè¯¥æ’ä»¶åœ¨æ‰“åŒ…å®Œæˆåï¼Œåœ¨æ§åˆ¶å°è¾“å‡º"æ‰“åŒ…å·²å®Œæˆ"
class MyPlugin {
  // åŸå‹ä¸Šéœ€è¦å®šä¹‰apply çš„æ–¹æ³•
  apply(compiler) {
    // é€šè¿‡compilerè·å–webpackå†…éƒ¨çš„é’©å­
    compiler.hooks.done.tap("My Plugin", (compilation, cb) => {
      console.log("æ‰“åŒ…å·²å®Œæˆ");
      // åˆ†ä¸ºåŒæ­¥å’Œå¼‚æ­¥çš„é’©å­ï¼Œå¼‚æ­¥é’©å­å¿…é¡»æ‰§è¡Œå¯¹åº”çš„å›è°ƒ
      cb();
    });
  }
}
module.exports = MyPlugin;
```

**æœ€åï¼Œ åœ¨ vue é¡¹ç›®ä¸­ä½¿ç”¨è‡ªå®šä¹‰æ’ä»¶**

1ï¼‰åœ¨`vue.config.js`å¼•å…¥è¯¥æ’ä»¶

```js
const MyPlugin = require('./MyPlugin.js')
```

2ï¼‰åœ¨`configureWebpack`çš„ plugins åˆ—è¡¨ä¸­æ³¨å†Œè¯¥æ’ä»¶

```ini
module.exports = {
  configureWebpack: {
    plugins: [new MyPlugin()]
  }
};
```

3ï¼‰æ‰§è¡Œé¡¹ç›®çš„æ‰“åŒ…å‘½ä»¤
 å½“é¡¹ç›®æ‰“åŒ…æˆåŠŸåï¼Œä¼šåœ¨æ§åˆ¶å°è¾“å‡ºï¼š`æ‰“åŒ…å·²å®Œæˆ`









































